{"version":3,"file":"static/js/803.97eb36f5.chunk.js","mappings":"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","sources":["components/Actions/Actions.styled.js","components/Actions/Actions.jsx","components/SearchForm/SearchForm.styled.js","components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx","services/movies-api.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const List = styled.ul`\n  margin: 5;\n  padding: 0 12px;\n`;\nexport const Item = styled.li`\n  margin-bottom: 5px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { List, Item } from './Actions.styled';\n\nconst Actions = ({ movies }) => {\n  const location = useLocation();\n  console.log(location);\n  return (\n    <List>\n      {movies.map(({ id, name, title }) => (\n        <Item key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {name || title}\n          </Link>\n        </Item>\n      ))}\n    </List>\n  );\n};\n\nActions.propTypes = {\n  movies: PropTypes.arrayOf(PropTypes.shape()).isRequired,\n};\n\nexport default Actions;","import styled from 'styled-components';\n\nexport const Input = styled.input`\n  width: 350px;\n  height: 30px;\n  border: 1px solid #484747;\n  outline: transparent;\n\n  &:focus {\n    border-color: #ecd62f;\n  }\n`;\nexport const Button = styled.button`\n  width: 75px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #eaafaf;\n  border: 1px solid #484747;\n  border-radius: 3px;\n  padding: 10px;\n  font-size: 14px;\n  font-weight: 600;\n\n  &:hover,\n  &:focus {\n    background-color: #ecd62f;\n    color: white;\n    border: none;\n  }\n`;\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  background-color: #fff;\n  border-radius: 3px;\n}\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport PropTypes from 'prop-types';\nimport { Form, Input, Button } from './SearchForm.styled';\n\nfunction SearchForm({ onSubmit }) {\n  const [search, setSearch] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n   useEffect(() => {\n   const query = searchParams.get('query') || '';\n   setSearch(query);\n   onSubmit(query);\n  }, [searchParams, onSubmit]);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    if (search.trim() === '') {\n      toast.error(\n        'Specify your search query!',\n        { theme: 'colored' }\n      );\n      return;\n    }\n    setSearchParams({ query: search });\n    onSubmit(search);\n    setSearch('');\n    };\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        value={search}\n        onChange={evt => setSearch(evt.target.value.toLowerCase())}\n      />\n      <Button type=\"submit\">Search</Button>\n    </Form>\n  );\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;","import { useEffect, useState } from 'react';\nimport { getSearchMovie } from '../services/movies-api';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport Actions from '../components/Actions/Actions';\nimport Message from 'components/Message/Message';\n\nfunction MoviesPage() {\n  const [search, setSearch] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isEmpty, setIsEmpty] = useState(false);\n\n  useEffect(() => {\n const abortCtrl = new AbortController();\n    async function searchMovies(search, signal) {\n      setIsLoading(true);\n      setError(null);\n      try {\n        if (search === '') {\n          setMovies([]);\n          setIsEmpty(false);\n          return;\n        }\n        const { results } = await getSearchMovie({ search, abortCtrl: signal });\n        setMovies(results);\n        if (!results.length) {\n          setIsEmpty(true);\n          return;\n        } else {\n          setIsEmpty(false);\n        }\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          setError('Try reloading the page!');\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    searchMovies(search, abortCtrl.signal);\n    return () => {\n      abortCtrl.abort();\n    };\n  }, [search]);\n\n  const handleSearch = search => {\n    setSearch(search);\n  };\n  return (\n    <div>\n      <SearchForm onSubmit={handleSearch} />\n      {isLoading ? (\n        <Message>Loading</Message>\n      ) : (\n        <>{<Actions movies={movies} />}</>\n      )}\n      {error && <Message>{error}</Message>}\n      {isEmpty && <Message>There are no movies !</Message>}\n    </div>\n  );\n}\n\nexport default MoviesPage;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n// const KEY = '7b381c0941b126eabbbca88209330c37';\n// export const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n\naxios.defaults.headers.common['Authorization'] =\n  'eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI3YjM4MWMwOTQxYjEyNmVhYmJiY2E4ODIwOTMzMGMzNyIsInN1YiI6IjY0YzE4YzcyMTNhMzIwMDExYzVmNWQ2ZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.w5Zdux52JzMaXxGEE-7rWODXXVwXs963VxqsHLpWRto';\n\n// export const getAllMovie = async stringToSearch => {\n//   const queryString = `trending/all/day?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n//   const { data } = await axios.get(queryString);\n//   return data;\n// };\nexport const getAllMovie = async () => {\n  const response = await axios.get('trending/all/day?');\n  console.log(response.data);\n  return response.data;\n};\n// export const getDetails = async movieId => {\n//   const queryString = `movie/${movieId}$?api_key=${KEY}&language=en-US`;\n//   const { data: movie } = await axios.get(queryString);\n//   return movie;\n// };\nexport const getDetails = async id => {\n  const response = await axios.get(`movie/${id}`);\n  console.log(response.data);\n  return response.data;\n};\n// export const getSearchMovie = async stringToSearch => {\n//   const queryString = `search/movie?api_key=${KEY}&language=en-US&page=1&include_adult=false&query=${stringToSearch}`;\n//   const { data: movies } = await axios.get(queryString);\n//   return movies;\n// };\nexport const getSearchMovie = async ({ search, abortCtrl }) => {\n  const response = await axios.get(`search/movie?query=${search}`, {\n    signal: abortCtrl.signal,\n  });\n  console.log(response.data);\n  return response.data;\n};\n// export const getMovieCast = async movieId => {\n//   const queryString = `movie/${movieId}/credits$?api_key={apiKey}&language=en-US`;\n//   const { data } = await axios.get(queryString);\n//   return data;\n// };\nexport const getMovieCast = async id => {\n  const response = await axios.get(`movie/${id}/credits`);\n  console.log(response.data);\n  return response.data;\n};\n// export const getRevMovie = async movieId => {\n//   const queryString = `movie/${movieId}/reviews$?api_key={apiKey}&language=en-US`;\n//   const { data } = await axios.get(queryString);\n//   return data;\n// };\nexport const getRevMovie = async id => {\n  const response = await axios.get(`movie/${id}/reviews`);\n  console.log(response.data);\n  return response.data;\n};"],"names":["List","styled","Item","movies","location","useLocation","console","log","map","id","name","title","to","state","from","Input","Button","Form","onSubmit","useState","search","setSearch","useSearchParams","searchParams","setSearchParams","useEffect","query","get","evt","preventDefault","trim","toast","theme","type","autoComplete","autoFocus","value","onChange","target","toLowerCase","setMovies","error","setError","isLoading","setIsLoading","isEmpty","setIsEmpty","abortCtrl","AbortController","signal","getSearchMovie","results","length","code","searchMovies","abort","Message","Actions","axios","getAllMovie","response","data","getDetails","getMovieCast","getRevMovie"],"sourceRoot":""}