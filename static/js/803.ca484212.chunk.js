"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[803],{6545:function(n,e,r){r.d(e,{Z:function(){return l}});var t,a,u=r(7689),c=r(1087),o=r(168),i=r(6444),s=i.ZP.ul(t||(t=(0,o.Z)(["\n  margin: 5;\n  padding: 0 12px;\n"]))),p=i.ZP.li(a||(a=(0,o.Z)(["\n  margin-bottom: 5px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n"]))),f=r(184),l=function(n){var e=n.movies,r=(0,u.TH)();return console.log(r),(0,f.jsx)(s,{children:e.map((function(n){var e=n.id,t=n.name,a=n.title;return(0,f.jsx)(p,{children:(0,f.jsx)(c.rU,{to:"/movies/".concat(e),state:{from:r},children:t||a})},e)}))})}},9803:function(n,e,r){r.r(e),r.d(e,{default:function(){return k}});var t,a,u,c=r(5861),o=r(9439),i=r(7757),s=r.n(i),p=r(2791),f=r(1207),l=r(1087),d=r(7596),h=r(168),v=r(6444),g=v.ZP.input(t||(t=(0,h.Z)(["\n  width: 350px;\n  height: 30px;\n  border: 1px solid #484747;\n  outline: transparent;\n\n  &:focus {\n    border-color: #ecd62f;\n  }\n"]))),x=v.ZP.button(a||(a=(0,h.Z)(["\n  width: 75px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #eaafaf;\n  border: 1px solid #484747;\n  border-radius: 3px;\n  padding: 10px;\n  font-size: 14px;\n  font-weight: 600;\n\n  &:hover,\n  &:focus {\n    background-color: #ecd62f;\n    color: white;\n    border: none;\n  }\n"]))),b=v.ZP.form(u||(u=(0,h.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 15px;\n  background-color: #fff;\n  border-radius: 3px;\n}\n"]))),m=r(184);var Z=function(n){var e=n.onSubmit,r=(0,p.useState)(""),t=(0,o.Z)(r,2),a=t[0],u=t[1],c=(0,l.lr)(),i=(0,o.Z)(c,2),s=i[0],f=i[1];return(0,p.useEffect)((function(){var n=s.get("query")||"";u(n),e(n)}),[s,e]),(0,m.jsxs)(b,{onSubmit:function(n){n.preventDefault(),""!==a.trim()?(f({query:a}),e(a),u("")):d.Am.error("Specify your search query!",{theme:"colored"})},children:[(0,m.jsx)(g,{type:"text",autoComplete:"off",autoFocus:!0,value:a,onChange:function(n){return u(n.target.value.toLowerCase())}}),(0,m.jsx)(x,{type:"submit",children:"Search"})]})},y=r(6545),w=r(385);var k=function(){var n=(0,p.useState)(""),e=(0,o.Z)(n,2),r=e[0],t=e[1],a=(0,p.useState)([]),u=(0,o.Z)(a,2),i=u[0],l=u[1],d=(0,p.useState)(null),h=(0,o.Z)(d,2),v=h[0],g=h[1],x=(0,p.useState)(!1),b=(0,o.Z)(x,2),k=b[0],_=b[1],S=(0,p.useState)(!1),j=(0,o.Z)(S,2),C=j[0],U=j[1];return(0,p.useEffect)((function(){var n=new AbortController;function e(){return e=(0,c.Z)(s().mark((function n(e,r){var t,a;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(_(!0),g(null),n.prev=2,""!==e){n.next=7;break}return l([]),U(!1),n.abrupt("return");case 7:return n.next=9,(0,f.gH)({search:e,abortCtrl:r});case 9:if(t=n.sent,a=t.results,l(a),a.length){n.next=17;break}return U(!0),n.abrupt("return");case 17:U(!1);case 18:n.next=23;break;case 20:n.prev=20,n.t0=n.catch(2),"ERR_CANCELED"!==n.t0.code&&g("Try reloading the page!");case 23:return n.prev=23,_(!1),n.finish(23);case 26:case"end":return n.stop()}}),n,null,[[2,20,23,26]])}))),e.apply(this,arguments)}return function(n,r){e.apply(this,arguments)}(r,n.signal),function(){n.abort()}}),[r]),(0,m.jsxs)("div",{children:[(0,m.jsx)(Z,{onSubmit:function(n){t(n)}}),k?(0,m.jsx)(w.Z,{children:"Loading"}):(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(y.Z,{movies:i})}),v&&(0,m.jsx)(w.Z,{children:v}),C&&(0,m.jsx)(w.Z,{children:"There are no movies !"})]})}},1207:function(n,e,r){r.d(e,{EL:function(){return l},M1:function(){return f},WJ:function(){return i},gH:function(){return p},s_:function(){return s}});var t=r(5861),a=r(7757),u=r.n(a),c=r(1243);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o="7b381c0941b126eabbbca88209330c37",i=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="trending/all/day?api_key=".concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(e),n.next=3,c.Z.get(r);case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),s=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="movie/".concat(e,"$?api_key=").concat(o,"&language=en-US"),n.next=3,c.Z.get(r);case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="search/movie?api_key=".concat(o,"&language=en-US&page=1&include_adult=false&query=").concat(e),n.next=3,c.Z.get(r);case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="movie/".concat(e,"/credits$?api_key={apiKey}&language=en-US"),n.next=3,c.Z.get(r);case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,t.Z)(u().mark((function n(e){var r,t,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="movie/".concat(e,"/reviews$?api_key={apiKey}&language=en-US"),n.next=3,c.Z.get(r);case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}]);
//# sourceMappingURL=803.ca484212.chunk.js.map